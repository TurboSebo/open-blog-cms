<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(title)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">Open Blog CMS</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body th:fragment="layout(title, content)">

<div id="container">
    <header>
        <a href="/" style="text-decoration: none; color: inherit;">
            <h1>Open Blog CMS</h1>
        </a>
    </header>

    <main>
        <aside>
            <nav>
                <h3>Menu</h3>
                <ul>
                    <li><a th:href="@{/}">Strona główna</a></li>
                    <li><a th:href="@{/about}">O blogu</a></li>

                    <span th:if="${session.currentUser == null}">
                        <a th:href="@{/login}">Zaloguj</a>
                    </span>
                    <span th:if="${session.currentUser != null}">
                        <a th:href="@{/logout}">Wyloguj</a>
                    </span>
                    <span th:if="${session.currentRole != null and session.currentRole >= 2}">
                        <a th:href="@{/admin}">Panel admina</a>
                    </span>
                </ul>

                <hr>

                <h3>O autorze</h3>
                <p>To jest prosty blog zbudowany na Spring Boot i czystym JavaScript.</p>
            </nav>
        </aside>

        <!-- tutaj wchodzi treść konkretnej strony -->
        <article th:replace="${content}"></article>
    </main>

    <footer>
        <p>&copy; 2025 Open Blog CMS. Built with Spring Boot.</p>
    </footer>
</div>

<script th:src="@{/js/app.js}"></script>

</body>
</html>
