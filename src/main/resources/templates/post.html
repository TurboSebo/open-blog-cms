<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: head(${post.title} + ' - Open Blog CMS')"></head>
<body th:replace="layout :: layout(${post.title}, ~{::article})">

<article>
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h2 th:text="${post.title}">Tytuł posta</h2>
            <div class="muted" style="font-size: 0.85rem; margin-bottom: 8px;"
                 th:text="${#temporals.format(post.createdAt, 'dd.MM.yyyy HH:mm')}">
                01.01.2025 12:00
            </div>
            <div th:if="${isAdmin} and !${post.published}" class="post-status-unpublished">
                Ten post jest <strong>nieopublikowany</strong> i widoczny tylko dla administratora.
            </div>
        </div>
        <div th:if="${session.currentRole != null and session.currentRole >= 2}">
            <a th:href="@{'/admin/edit-post/' + ${post.id}}" class="button secondary" style="font-size: 0.85rem;">Edytuj post</a>
        </div>
    </div>

    <div th:utext="${post.content}">
        Treść posta...
    </div>

    <hr>

    <a th:href="@{/}" class="button secondary">← Wróć na stronę główną</a>
</article>

</body>
</html>
